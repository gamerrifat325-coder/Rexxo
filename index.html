<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RexxoTube</title>

<!-- Google Verification Tag -->
<meta name="google-site-verification" content="IXp8EtdnajyjawoHcwetfqByzOUobObm69_VRGP20EM" />

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0f0f0f;
  color:white;
}
header{
  background:black;
  padding:15px;
  font-size:22px;
  font-weight:bold;
  text-align:center;
  border-bottom:1px solid #222;
}
.container{
  padding:10px;
  margin-bottom:70px;
}
.video-card{
  background:#181818;
  padding:10px;
  border-radius:8px;
  margin-bottom:15px;
}
iframe{
  width:100%;
  height:200px;
  border-radius:8px;
}
button{
  padding:8px 12px;
  border:none;
  border-radius:5px;
  margin-top:5px;
  margin-right:5px;
  font-weight:bold;
}
.like{background:#2563eb;color:white;}
.delete{background:red;color:white;}
.upload-btn{background:#22c55e;color:white;width:100%;}
.bottom-nav{
  position:fixed;
  bottom:0;
  width:100%;
  background:black;
  display:flex;
  justify-content:space-around;
  padding:10px 0;
  border-top:1px solid #222;
}
.bottom-nav button{
  background:none;
  color:white;
  font-size:16px;
}
.hidden{display:none;}
input{
  padding:10px;
  width:95%;
  margin-bottom:10px;
  border-radius:5px;
  border:none;
}
</style>
</head>

<body>

<header>üî• RexxoTube</header>

<div class="container">

<div id="homePage">
  <div id="videoList"></div>
</div>

<div id="uploadPage" class="hidden">
  <h3>Add YouTube Video</h3>
  <input type="text" id="videoTitle" placeholder="Enter Video Title">
  <input type="text" id="videoLink" placeholder="Paste YouTube Link">
  <button class="upload-btn" onclick="addVideo()">Add Video</button>
</div>

</div>

<div class="bottom-nav">
  <button onclick="showHome()">üè† Home</button>
  <button onclick="showUpload()">‚ûï Add</button>
</div>

<script>

let videos = JSON.parse(localStorage.getItem("videos")) || [];

function saveData(){
  localStorage.setItem("videos", JSON.stringify(videos));
}

function extractVideoID(url){
  let regExp = /(?:youtube\.com\/.*v=|youtu\.be\/)([^&]+)/;
  let match = url.match(regExp);
  return match ? match[1] : null;
}

function renderVideos(){
  let list = document.getElementById("videoList");
  list.innerHTML="";

  if(videos.length===0){
    list.innerHTML="<p>No videos added yet.</p>";
    return;
  }

  videos.forEach((video,index)=>{
    list.innerHTML += `
      <div class="video-card">
        <h4>${video.title}</h4>
        <iframe src="https://www.youtube.com/embed/${video.id}" 
        frameborder="0" allowfullscreen></iframe><br>
        <button class="like" onclick="likeVideo(${index})">
          üëç ${video.likes}
        </button>
        <button class="delete" onclick="deleteVideo(${index})">
          üóë Delete
        </button>
      </div>
    `;
  });
}

function addVideo(){
  let title = document.getElementById("videoTitle").value;
  let link = document.getElementById("videoLink").value;

  let id = extractVideoID(link);

  if(!title || !id){
    alert("Enter valid title and YouTube link");
    return;
  }

  videos.push({
    title:title,
    id:id,
    likes:0
  });

  saveData();
  renderVideos();
  showHome();

  document.getElementById("videoTitle").value="";
  document.getElementById("videoLink").value="";
}

function likeVideo(index){
  videos[index].likes++;
  saveData();
  renderVideos();
}

function deleteVideo(index){
  videos.splice(index,1);
  saveData();
  renderVideos();
}

function showHome(){
  document.getElementById("homePage").classList.remove("hidden");
  document.getElementById("uploadPage").classList.add("hidden");
}

function showUpload(){
  document.getElementById("homePage").classList.add("hidden");
  document.getElementById("uploadPage").classList.remove("hidden");
}

renderVideos();

</script>

</body>
</html>
